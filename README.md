# DictionarySpeedTest
Сравнение скорости поиска записей в таблице с использованием паттерна проектирования "Словарь" и без

В программировании для оптимизации поиска и увеличении скорости передачи данных часто испльзуют словари
или перечисления.
Например, существует система, в которой производится частый обмен сообщениями, содержащими тип сообщения, для них создается словарь

```с++
    vector<string> dict ={
        "Предупреждение",
        "Ошибка",
        "Сообщение",
    };
```

По сети будет передан номер типа сообщения из словаря, а получатель уже сам конвертирует его в текст.
Такая система очень гибкая, позволяет дополнить словарь уже после разработки, разделить его между всем участниками общения
и продолжить передавать короткие 4-х байтные коды вместо длинных строк.

В каком случае такой подход действительно применим и в базах данных? 
Все сервисы, предоставляющие фильтрацию товаров по какому-либо значению. Например, интернет магазин бытовой техники
При отображении списка товаров обычно используется имя товара, цена, изображение. Остальные поля таблицы не отображатся и могут быть ключевыми. Значения будут подгружаться при выборе конретного товара, а фильтрация будет выполняться не поиском по строковым параметрам, что чудовищно долго, а по численным.

Да, можно было бы проидексировать столбцы таблицы и оставить дублирование данных. У этого решения есть следующие проблемы:

 - Низкая скорость изменения, добавления данных в таблицу
 - Высока вероятность ошибки оператора, что создаст несколько одинаковых филтров
 - Низкая скорость получения списка вильтров (SELECT DISTINCT)

Минусом же паттерна со словарем заключатся в следующем:

- Низкая скорость при использовании JOIN
- Чуть более сложная структура базы данных

В описанной бизнес-задаче, которая стоит в подавляющем большинстве систем работы с данными, не используется запрос всех строк таблицы с их значениями, то есть здесь не используется JOIN ни в каком виде.

Но остался единственный вопрос. А будет ли прирост в скорости при использовании словаря в описанной бизнес-задача. Для этого проведено исследование и получены следующие результаты:


